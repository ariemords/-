<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<title>砖转 转专转 驻爪</title>

<style>
body {
  font-family: Arial;
  margin: 0;
  text-align: center;
  background: linear-gradient(to right, #1e3c72, #2a5298);
  color: white;
}

h1, h2 {
  margin-top: 20px;
}

.screen {
  display: none;
  margin-top: 40px;
}

#home {
  display: block;
}

.card {
  background: rgba(255,255,255,0.15);
  padding: 30px;
  border-radius: 15px;
  display: inline-block;
  min-width: 300px;
}

input, textarea {
  width: 250px;
  padding: 10px;
  margin: 8px;
  border-radius: 6px;
  border: none;
}

button {
  padding: 15px 35px;
  margin: 10px;
  font-size: 18px;
  border: none;
  border-radius: 8px;
  background: #00b4ff;
  color: white;
  cursor: pointer;
}

button:hover {
  background: #0088cc;
}

.list {
  margin-top: 20px;
  text-align: right;
}
.item {
  background: rgba(255,255,255,0.2);
  padding: 10px;
  border-radius: 8px;
  margin: 8px 0;
}
.message {
  margin-top: 15px;
  font-weight: bold;
  color: #00ffcc;
}
</style>
</head>

<body>

<!-- 住 转 -->
<div id="home" class="screen">
  <div class="card">
    <h1>专 </h1>
    <button onclick="goLogin()">转专转</button>
  </div>
</div>

<!-- 转专转 -->
<div id="login" class="screen">
  <div class="card">
    <h2>转专转</h2>
    <input id="username" placeholder="砖 砖转砖">
    <br>
    <button onclick="login()">住</button>
    <button onclick="goHome()">专</button>
  </div>
</div>

<!-- 住 专砖 -->
<div id="main" class="screen">
  <div class="card">
    <h2 id="hello"></h2>
    <button onclick="showBorrow()">砖转 驻抓</button>
    <button onclick="showDonate()">转专转 驻抓</button>
    <button onclick="logout()">转转拽</button>
  </div>

  <div class="card list">
    <h3> 专砖转 驻爪</h3>
    <div id="items"></div>
  </div>
</div>

<!-- 砖 -->
<div id="borrow" class="screen">
  <div class="card">
    <h2>砖转 驻抓</h2>
    <input id="borrowName" placeholder="砖 驻抓">
    <input type="date" id="borrowDate">
    <br>
    <button onclick="saveBorrow()">住</button>
    <button onclick="backMain()">专</button>
    <div id="borrowMsg" class="message"></div>
  </div>
</div>

<!-- 转专 -->
<div id="donate" class="screen">
  <div class="card">
    <h2>转专转 驻抓</h2>
    <input id="donateName" placeholder="砖 驻抓">
    <textarea id="donateNote" placeholder="注专转"></textarea>
    <br>
    <button onclick="saveDonate()">住</button>
    <button onclick="backMain()">专</button>
    <div id="donateMsg" class="message"></div>
  </div>
</div>

<script>
function hideAll() {
  document.querySelectorAll(".screen").forEach(s => s.style.display = "none");
}

function goHome() {
  hideAll();
  home.style.display = "block";
}

function goLogin() {
  hideAll();
  login.style.display = "block";
}

function login() {
  const name = username.value.trim();
  if (!name) return alert("转住 砖 砖转砖");
  localStorage.setItem("user", name);
  loadUser();
}

function loadUser() {
  const user = localStorage.getItem("user");
  if (!user) return goHome();
  hideAll();
  main.style.display = "block";
  hello.innerText = "砖 " + user;
  loadItems();
}

function logout() {
  localStorage.removeItem("user");
  goHome();
}

function showBorrow() {
  hideAll();
  borrow.style.display = "block";
}

function showDonate() {
  hideAll();
  donate.style.display = "block";
}

function backMain() {
  hideAll();
  main.style.display = "block";
}

function getItems() {
  return JSON.parse(localStorage.getItem("items") || "[]");
}

function saveItems(items) {
  localStorage.setItem("items", JSON.stringify(items));
}

function saveBorrow() {
  const name = borrowName.value;
  const date = borrowDate.value;
  if (!name || !date) return alert(" ");
  const items = getItems();
  items.push("砖: " + name + " 转专 " + date);
  saveItems(items);
  borrowMsg.innerText = "砖转 转 " + name + " 转专 " + date;
  loadItems();
}

function saveDonate() {
  const name = donateName.value;
  if (!name) return alert(" 砖 驻抓");
  const items = getItems();
  items.push("转专: " + name);
  saveItems(items);
  donateMsg.innerText = "转 注 转专转!";
  loadItems();
}

function loadItems() {
  const itemsDiv = document.getElementById("items");
  const items = getItems();
  itemsDiv.innerHTML = "";
  items.forEach(i => {
    const d = document.createElement("div");
    d.className = "item";
    d.innerText = i;
    itemsDiv.appendChild(d);
  });
}

loadUser();
</script>

</body>
</html>
