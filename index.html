<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<title>砖转 转专转 驻爪</title>

<style>
body {
  font-family: Arial;
  margin: 0;
  text-align: center;
  background: linear-gradient(to right, #1e3c72, #2a5298);
  color: white;
}

.screen { display: none; margin-top: 40px; }
#home { display: block; }

.card {
  background: rgba(255,255,255,0.15);
  padding: 25px;
  border-radius: 15px;
  display: inline-block;
  min-width: 320px;
  margin: 10px;
}

input, textarea {
  width: 250px;
  padding: 10px;
  margin: 6px;
  border-radius: 6px;
  border: none;
}

button {
  padding: 12px 30px;
  margin: 8px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  background: #00b4ff;
  color: white;
  cursor: pointer;
}

button:hover { background: #0088cc; }

.item {
  background: rgba(255,255,255,0.2);
  padding: 10px;
  border-radius: 8px;
  margin: 8px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.deleteBtn {
  background: #ff4d4d;
  padding: 6px 12px;
  font-size: 13px;
}

.deleteBtn:hover { background: #cc0000; }

.message {
  margin-top: 10px;
  font-weight: bold;
  color: #00ffcc;
}
</style>
</head>

<body>

<div id="home" class="screen">
  <div class="card">
    <h1>专 </h1>
    <button onclick="goLogin()">转专转</button>
  </div>
</div>

<div id="login" class="screen">
  <div class="card">
    <h2>转专转</h2>
    <input id="username" placeholder="砖 砖转砖">
    <br>
    <button onclick="login()">住</button>
  </div>
</div>

<div id="main" class="screen">
  <div class="card">
    <h2 id="hello"></h2>
    <button onclick="showBorrow()">砖转 驻抓</button>
    <button onclick="showDonate()">转专转 驻抓</button>
    <button onclick="logout()">转转拽</button>
  </div>

  <div class="card">
    <h3> 驻砖 驻抓</h3>
    <input id="searchInput" placeholder="驻砖..." oninput="loadItems()">
  </div>

  <div class="card">
    <h3> 专砖转 驻爪</h3>
    <div id="items"></div>
  </div>
</div>

<div id="borrow" class="screen">
  <div class="card">
    <h2>砖转 驻抓</h2>
    <input id="borrowName" placeholder="砖 驻抓">
    <input type="date" id="borrowDate">
    <br>
    <button onclick="saveBorrow()">住</button>
    <button onclick="backMain()">专</button>
    <div id="borrowMsg" class="message"></div>
  </div>
</div>

<div id="donate" class="screen">
  <div class="card">
    <h2>转专转 驻抓</h2>
    <input id="donateName" placeholder="砖 驻抓">
    <input id="soldierName" placeholder="注 砖转...">
    <textarea id="donateNote" placeholder="注专转"></textarea>
    <br>
    <button onclick="saveDonate()">住</button>
    <button onclick="backMain()">专</button>
    <div id="donateMsg" class="message"></div>
  </div>
</div>

<script>
function hideAll() {
  document.querySelectorAll(".screen").forEach(s => s.style.display = "none");
}

function goLogin() { hideAll(); login.style.display = "block"; }
function backMain() { hideAll(); main.style.display = "block"; }

function login() {
  const name = username.value.trim();
  if (!name) return alert("转住 砖 砖转砖");
  localStorage.setItem("user", name);
  loadUser();
}

function loadUser() {
  const user = localStorage.getItem("user");
  if (!user) return home.style.display = "block";
  hideAll();
  main.style.display = "block";
  hello.innerText = "砖 " + user;
  loadItems();
}

function logout() {
  localStorage.removeItem("user");
  location.reload();
}

function showBorrow() { hideAll(); borrow.style.display = "block"; }
function showDonate() { hideAll(); donate.style.display = "block"; }

function getItems() {
  return JSON.parse(localStorage.getItem("items") || "[]");
}

function saveItems(items) {
  localStorage.setItem("items", JSON.stringify(items));
}

function saveBorrow() {
  const name = borrowName.value;
  const date = borrowDate.value;
  if (!name || !date) return alert(" ");
  const items = getItems();
  items.push("砖: " + name + " 转专 " + date);
  saveItems(items);
  borrowMsg.innerText = "砖转 转 " + name + " 转专 " + date;
  loadItems();
}

function saveDonate() {
  const name = donateName.value;
  const soldier = soldierName.value;
  if (!name || !soldier) return alert(" 转  砖转");
  const items = getItems();
  items.push("转专: " + name + " | 注 砖转 " + soldier);
  saveItems(items);
  donateMsg.innerText = " 转 注 转专 注 砖转 " + soldier;
  loadItems();
}

function deleteItem(index) {
  const items = getItems();
  items.splice(index, 1);
  saveItems(items);
  loadItems();
}

function loadItems() {
  const search = document.getElementById("searchInput").value.toLowerCase();
  const itemsDiv = document.getElementById("items");
  const items = getItems();
  itemsDiv.innerHTML = "";
  items.forEach((item, index) => {
    if (item.toLowerCase().includes(search)) {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <span>${item}</span>
        <button class="deleteBtn" onclick="deleteItem(${index})"></button>
      `;
      itemsDiv.appendChild(div);
    }
  });
}

loadUser();
</script>
<script src="script.js"></script>
</body>
</html>

